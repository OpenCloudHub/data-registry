schema: '2.0'
stages:
  analyze:
    cmd: python scripts/analyze.py
    deps:
    - path: scripts/analyze.py
      hash: md5
      md5: b80d20e311d09a94fb5735de374d9da3
      size: 3991
    params:
      params.yaml:
        data:
          dvc_repo: https://github.com/OpenCloudHub/data-registry
          endpoint_url: https://minio-api.internal.opencloudhub.org
          version: opencloudhub-readmes-v1.0.0
          path: data/opencloudhub-readmes/raw
        embedding:
          model_name: sentence-transformers/all-MiniLM-L6-v2
          chunk_size: 800
          chunk_overlap: 100
          batch_size: 32
          device: cpu
    outs:
    - path: ../../data/opencloudhub-readmes/metadata.json
      hash: md5
      md5: 42e98dbe20d6aed6b68c2c1ed8e11ee1
      size: 694
  process:
    cmd: python scripts/process.py
    deps:
    - path: scripts/process.py
      hash: md5
      md5: 84ad03b621a768b3bf6f50813093da36
      size: 12878
    params:
      params.yaml:
        data:
          dvc_repo: https://github.com/OpenCloudHub/data-registry
          endpoint_url: https://minio-api.internal.opencloudhub.org
          version: opencloudhub-readmes-v1.0.0
          path: data/opencloudhub-readmes/raw
        embedding:
          model_name: sentence-transformers/all-MiniLM-L6-v2
          chunk_size: 800
          chunk_overlap: 100
          batch_size: 32
          device: cpu
        pgvector:
          host: 127.0.0.1
          port: 5432
          database: demo_app
          user: demo-app
          table_name: readme_embeddings
